!function(a){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,document,window,navigator)}):jQuery||"object"!=typeof exports?a(jQuery,document,window,navigator):a(require("jquery"),document,window,navigator)}(function(d,f,m,q,b){var k,p,n=0,g=(k=q.userAgent,p=/msie\s\d+/i,0<k.search(p)&&p.exec(k).toString().split(" ")[1]<9&&(d("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(l){var a=this,c=[].slice;if("function"!=typeof a){throw new TypeError}var s=c.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=a.prototype;var e=new o,h=a.apply(e,s.concat(c.call(arguments)));return Object(h)===h?h:e}return a.apply(l,s.concat(c.call(arguments)))};return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(v,l){var u;if(null==this){throw new TypeError('"this" is null or not defined')}var r=Object(this),a=r.length>>>0;if(0===a){return -1}var c=+l||0;if(Math.abs(c)===1/0&&(c=0),a<=c){return -1}for(u=Math.max(0<=c?c:a-Math.abs(c),0);u<a;){if(u in r&&r[u]===v){return u}u++}return -1});var j=function(y,l,x){this.VERSION="2.3.0",this.input=y,this.plugin_count=x,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,l=l||{},this.$cache={win:d(m),body:d(f.body),input:d(y),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var v,a,c,w=this.$cache.input,u=w.prop("value");for(c in v={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" â€” ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==w[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",w[0]),(a={skin:w.data("skin"),type:w.data("type"),min:w.data("min"),max:w.data("max"),from:w.data("from"),to:w.data("to"),step:w.data("step"),min_interval:w.data("minInterval"),max_interval:w.data("maxInterval"),drag_interval:w.data("dragInterval"),values:w.data("values"),from_fixed:w.data("fromFixed"),from_min:w.data("fromMin"),from_max:w.data("fromMax"),from_shadow:w.data("fromShadow"),to_fixed:w.data("toFixed"),to_min:w.data("toMin"),to_max:w.data("toMax"),to_shadow:w.data("toShadow"),prettify_enabled:w.data("prettifyEnabled"),prettify_separator:w.data("prettifySeparator"),force_edges:w.data("forceEdges"),keyboard:w.data("keyboard"),grid:w.data("grid"),grid_margin:w.data("gridMargin"),grid_num:w.data("gridNum"),grid_snap:w.data("gridSnap"),hide_min_max:w.data("hideMinMax"),hide_from_to:w.data("hideFromTo"),prefix:w.data("prefix"),postfix:w.data("postfix"),max_postfix:w.data("maxPostfix"),decorate_both:w.data("decorateBoth"),values_separator:w.data("valuesSeparator"),input_values_separator:w.data("inputValuesSeparator"),disable:w.data("disable"),block:w.data("block"),extra_classes:w.data("extraClasses")}).values=a.values&&a.values.split(","),a){a.hasOwnProperty(c)&&(a[c]!==b&&""!==a[c]||delete a[c])}u!==b&&""!==u&&((u=u.split(a.input_values_separator||l.input_values_separator||";"))[0]&&u[0]==+u[0]&&(u[0]=+u[0]),u[1]&&u[1]==+u[1]&&(u[1]=+u[1]),l&&l.values&&l.values.length?(v.from=u[0]&&l.values.indexOf(u[0]),v.to=u[1]&&l.values.indexOf(u[1])):(v.from=u[0]&&+u[0],v.to=u[1]&&+u[1])),d.extend(v,l),d.extend(v,a),this.options=v,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};j.prototype={init:function(a){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),a?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var a='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(a),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var h=this.options.min,a=this.options.max,e=this.options.from,c=this.options.to;h<e&&c===a?this.$cache.s_from.addClass("type_last"):c<a&&this.$cache.s_to.addClass("type_last")},changeLevel:function(a){switch(a){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),g&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),g&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(e){var a,c;this.target||(a=(c="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,a+=c.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:a}))},pointerMove:function(c){if(this.dragging){var a=c.pageX||c.originalEvent.touches&&c.originalEvent.touches[0].pageX;this.coords.x_pointer=a-this.coords.x_gap,this.calc()}},pointerUp:function(a){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,g&&d("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(d.contains(this.$cache.cont[0],a.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,a){a.preventDefault();var c=a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX;2!==a.button&&("both"===e&&this.setTempMinInterval(),e||(e=this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=c-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),g&&d("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(e,a){a.preventDefault();var c=a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX;2!==a.button&&(this.current_plugin=this.plugin_count,this.target=e,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(c-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(c,a){if(!(this.current_plugin!==this.plugin_count||a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)){switch(a.which){case 83:case 65:case 40:case 37:a.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:a.preventDefault(),this.moveByKey(!0)}return !0}},moveByKey:function(e){var a=this.coords.p_pointer,c=(this.options.max-this.options.min)/100;c=this.options.step/c,e?a+=c:a-=c,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*a),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max){return this.$cache.min[0].style.display="none",void (this.$cache.max[0].style.display="none")}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{var c=this._prettify(this.options.min),a=this._prettify(this.options.max);this.result.min_pretty=c,this.result.max_pretty=a,this.$cache.min.html(this.decorate(c,this.options.min)),this.$cache.max.html(this.decorate(a,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var a=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=a},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(E){if(this.options&&(this.calc_count++,(10===this.calc_count||E)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var y=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,y=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,y=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(y)),this.target){case"base":var D=(this.options.max-this.options.min)/100,B=(this.result.from-this.options.min)/D,w=(this.result.to-this.options.min)/D;this.coords.p_single_real=this.toFixed(B),this.coords.p_from_real=this.toFixed(B),this.coords.p_to_real=this.toFixed(w),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.convertToRealPercent(y),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.convertToRealPercent(y),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.convertToRealPercent(y),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}y=this.toFixed(y+0.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(y)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(y)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed){break}var x=this.convertToRealPercent(y),C=this.result.from_percent,A=this.result.to_percent-C,u=A/2,v=x-u,z=x+u;v<0&&(z=(v=0)+A),100<z&&(v=(z=100)-A),this.coords.p_from_real=this.calcWithStep(v),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(z),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(a){return a/(100-this.coords.p_handle)*100},convertToFakePercent:function(a){return a/100*(100-this.coords.p_handle)},getHandleX:function(){var c=100-this.coords.p_handle,a=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return a<0?a=0:c<a&&(a=c),a},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(a){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=a?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var E,y,D,B,w,x=this.options.values.length,C=this.options.p_values;if(!this.options.hide_from_to){if("single"===this.options.type){E=x?this.decorate(C[this.result.from]):(B=this._prettify(this.result.from),this.decorate(B,this.result.from)),this.$cache.single.html(E),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}else{D=x?(this.options.decorate_both?(E=this.decorate(C[this.result.from]),E+=this.options.values_separator,E+=this.decorate(C[this.result.to])):E=this.decorate(C[this.result.from]+this.options.values_separator+C[this.result.to]),y=this.decorate(C[this.result.from]),this.decorate(C[this.result.to])):(B=this._prettify(this.result.from),w=this._prettify(this.result.to),this.options.decorate_both?(E=this.decorate(B,this.result.from),E+=this.options.values_separator,E+=this.decorate(w,this.result.to)):E=this.decorate(B+this.options.values_separator+w,this.result.to),y=this.decorate(B,this.result.from),this.decorate(w,this.result.to)),this.$cache.single.html(E),this.$cache.from.html(y),this.$cache.to.html(D),this.calcLabels();var A=Math.min(this.labels.p_single_left,this.labels.p_from_left),u=this.labels.p_single_left+this.labels.p_single_fake,v=this.labels.p_to_left+this.labels.p_to_fake,z=Math.max(u,v);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",z=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",v):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(u,v))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),A<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",z>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}}},drawShadow:function(){var C,x,B,z,v=this.options,w=this.$cache,A="number"==typeof v.from_min&&!isNaN(v.from_min),y="number"==typeof v.from_max&&!isNaN(v.from_max),l="number"==typeof v.to_min&&!isNaN(v.to_min),u="number"==typeof v.to_max&&!isNaN(v.to_max);"single"===v.type?v.from_shadow&&(A||y)?(C=this.convertToPercent(A?v.from_min:v.min),x=this.convertToPercent(y?v.from_max:v.max)-C,C=this.toFixed(C-this.coords.p_handle/100*C),x=this.toFixed(x-this.coords.p_handle/100*x),C+=this.coords.p_handle/2,w.shad_single[0].style.display="block",w.shad_single[0].style.left=C+"%",w.shad_single[0].style.width=x+"%"):w.shad_single[0].style.display="none":(v.from_shadow&&(A||y)?(C=this.convertToPercent(A?v.from_min:v.min),x=this.convertToPercent(y?v.from_max:v.max)-C,C=this.toFixed(C-this.coords.p_handle/100*C),x=this.toFixed(x-this.coords.p_handle/100*x),C+=this.coords.p_handle/2,w.shad_from[0].style.display="block",w.shad_from[0].style.left=C+"%",w.shad_from[0].style.width=x+"%"):w.shad_from[0].style.display="none",v.to_shadow&&(l||u)?(B=this.convertToPercent(l?v.to_min:v.min),z=this.convertToPercent(u?v.to_max:v.max)-B,B=this.toFixed(B-this.coords.p_handle/100*B),z=this.toFixed(z-this.coords.p_handle/100*z),B+=this.coords.p_handle/2,w.shad_to[0].style.display="block",w.shad_to[0].style.left=B+"%",w.shad_to[0].style.width=z+"%"):w.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(r,c){var l,h=this.options.max-this.options.min,a=h/100;return h?(l=(c?r:r-this.options.min)/a,this.toFixed(l)):(this.no_diapason=!0,0)},convertToValue:function(F){var z,E,C=this.options.min,x=this.options.max,y=C.toString().split(".")[1],D=x.toString().split(".")[1],B=0,v=0;if(0===F){return this.options.min}if(100===F){return this.options.max}y&&(B=z=y.length),D&&(B=E=D.length),z&&E&&(B=E<=z?z:E),C<0&&(C=+(C+(v=Math.abs(C))).toFixed(B),x=+(x+v).toFixed(B));var w,A=(x-C)/100*F+C,u=this.options.step.toString().split(".")[1];return A=u?+A.toFixed(u.length):(A/=this.options.step,+(A*=this.options.step).toFixed(0)),v&&(A-=v),(w=u?+A.toFixed(u.length):this.toFixed(A))<this.options.min?w=this.options.min:w>this.options.max&&(w=this.options.max),w},calcWithStep:function(c){var a=Math.round(c/this.coords.p_step)*this.coords.p_step;return 100<a&&(a=100),100===c&&(a=100),this.toFixed(a)},checkMinInterval:function(v,l,u){var r,a,c=this.options;return c.min_interval?(r=this.convertToValue(v),a=this.convertToValue(l),"from"===u?a-r<c.min_interval&&(r=a-c.min_interval):r-a<c.min_interval&&(r=a+c.min_interval),this.convertToPercent(r)):v},checkMaxInterval:function(v,l,u){var r,a,c=this.options;return c.max_interval?(r=this.convertToValue(v),a=this.convertToValue(l),"from"===u?a-r>c.max_interval&&(r=a-c.max_interval):r-a>c.max_interval&&(r=a+c.max_interval),this.convertToPercent(r)):v},checkDiapason:function(r,c,l){var h=this.convertToValue(r),a=this.options;return"number"!=typeof c&&(c=a.min),"number"!=typeof l&&(l=a.max),h<c&&(h=c),l<h&&(h=l),this.convertToPercent(h)},toFixed:function(a){return +(a=a.toFixed(20))},_prettify:function(a){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(a):this.prettify(a):a},prettify:function(a){return a.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(c,a){return this.options.force_edges&&(c<0?c=0:100-a<c&&(c=100-a)),this.toFixed(c)},validate:function(){var v,l,u=this.options,r=this.result,a=u.values,c=a.length;if("string"==typeof u.min&&(u.min=+u.min),"string"==typeof u.max&&(u.max=+u.max),"string"==typeof u.from&&(u.from=+u.from),"string"==typeof u.to&&(u.to=+u.to),"string"==typeof u.step&&(u.step=+u.step),"string"==typeof u.from_min&&(u.from_min=+u.from_min),"string"==typeof u.from_max&&(u.from_max=+u.from_max),"string"==typeof u.to_min&&(u.to_min=+u.to_min),"string"==typeof u.to_max&&(u.to_max=+u.to_max),"string"==typeof u.grid_num&&(u.grid_num=+u.grid_num),u.max<u.min&&(u.max=u.min),c){for(u.p_values=[],u.min=0,u.max=c-1,u.step=1,u.grid_num=u.max,u.grid_snap=!0,l=0;l<c;l++){v=+a[l],v=isNaN(v)?a[l]:(a[l]=v,this._prettify(v)),u.p_values.push(v)}}("number"!=typeof u.from||isNaN(u.from))&&(u.from=u.min),("number"!=typeof u.to||isNaN(u.to))&&(u.to=u.max),"single"===u.type?(u.from<u.min&&(u.from=u.min),u.from>u.max&&(u.from=u.max)):(u.from<u.min&&(u.from=u.min),u.from>u.max&&(u.from=u.max),u.to<u.min&&(u.to=u.min),u.to>u.max&&(u.to=u.max),this.update_check.from&&(this.update_check.from!==u.from&&u.from>u.to&&(u.from=u.to),this.update_check.to!==u.to&&u.to<u.from&&(u.to=u.from)),u.from>u.to&&(u.from=u.to),u.to<u.from&&(u.to=u.from)),("number"!=typeof u.step||isNaN(u.step)||!u.step||u.step<0)&&(u.step=1),"number"==typeof u.from_min&&u.from<u.from_min&&(u.from=u.from_min),"number"==typeof u.from_max&&u.from>u.from_max&&(u.from=u.from_max),"number"==typeof u.to_min&&u.to<u.to_min&&(u.to=u.to_min),"number"==typeof u.to_max&&u.from>u.to_max&&(u.to=u.to_max),r&&(r.min!==u.min&&(r.min=u.min),r.max!==u.max&&(r.max=u.max),(r.from<r.min||r.from>r.max)&&(r.from=u.from),(r.to<r.min||r.to>r.max)&&(r.to=u.to)),("number"!=typeof u.min_interval||isNaN(u.min_interval)||!u.min_interval||u.min_interval<0)&&(u.min_interval=0),("number"!=typeof u.max_interval||isNaN(u.max_interval)||!u.max_interval||u.max_interval<0)&&(u.max_interval=0),u.min_interval&&u.min_interval>u.max-u.min&&(u.min_interval=u.max-u.min),u.max_interval&&u.max_interval>u.max-u.min&&(u.max_interval=u.max-u.min)},decorate:function(h,a){var e="",c=this.options;return c.prefix&&(e+=c.prefix),e+=h,c.max_postfix&&(c.values.length&&h===c.p_values[c.max]?(e+=c.max_postfix,c.postfix&&(e+=" ")):a===c.max&&(e+=c.max_postfix,c.postfix&&(e+=" "))),c.postfix&&(e+=c.postfix),e},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var F,z,E,C,x,y,D=this.options,B=D.max-D.min,v=D.grid_num,w=0,A=4,u="";for(this.calcGridMargin(),D.grid_snap&&(v=B/D.step),50<v&&(v=50),E=this.toFixed(100/v),4<v&&(A=3),7<v&&(A=2),14<v&&(A=1),28<v&&(A=0),F=0;F<v+1;F++){for(C=A,100<(w=this.toFixed(E*F))&&(w=100),x=((this.coords.big[F]=w)-E*(F-1))/(C+1),z=1;z<=C&&0!==w;z++){u+='<span class="irs-grid-pol small" style="left: '+this.toFixed(w-x*z)+'%"></span>'}u+='<span class="irs-grid-pol" style="left: '+w+'%"></span>',y=this.convertToValue(w),u+='<span class="irs-grid-text js-grid-text-'+F+'" style="left: '+w+'%">'+(y=D.values.length?D.p_values[y]:this._prettify(y))+"</span>"}this.coords.big_num=Math.ceil(v+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(u),this.cacheGridLabels()}},cacheGridLabels:function(){var e,a,c=this.coords.big_num;for(a=0;a<c;a++){e=this.$cache.grid.find(".js-grid-text-"+a),this.$cache.grid_labels.push(e)}this.calcGridLabels()},calcGridLabels:function(){var r,c,l=[],h=[],a=this.coords.big_num;for(r=0;r<a;r++){this.coords.big_w[r]=this.$cache.grid_labels[r].outerWidth(!1),this.coords.big_p[r]=this.toFixed(this.coords.big_w[r]/this.coords.w_rs*100),this.coords.big_x[r]=this.toFixed(this.coords.big_p[r]/2),l[r]=this.toFixed(this.coords.big[r]-this.coords.big_x[r]),h[r]=this.toFixed(l[r]+this.coords.big_p[r])}for(this.options.force_edges&&(l[0]<-this.coords.grid_gap&&(l[0]=-this.coords.grid_gap,h[0]=this.toFixed(l[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),h[a-1]>100+this.coords.grid_gap&&(h[a-1]=100+this.coords.grid_gap,l[a-1]=this.toFixed(h[a-1]-this.coords.big_p[a-1]),this.coords.big_x[a-1]=this.toFixed(this.coords.big_p[a-1]-this.coords.grid_gap))),this.calcGridCollision(2,l,h),this.calcGridCollision(4,l,h),r=0;r<a;r++){c=this.$cache.grid_labels[r][0],this.coords.big_x[r]!==Number.POSITIVE_INFINITY&&(c.style.marginLeft=-this.coords.big_x[r]+"%")}},calcGridCollision:function(x,l,w){var u,a,c,v=this.coords.big_num;for(u=0;u<v&&!(v<=(a=u+x/2));u+=x){c=this.$cache.grid_labels[a][0],w[u]<=l[a]?c.style.visibility="visible":c.style.visibility="hidden"}},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-0.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(a){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=d.extend(this.options,a),this.validate(),this.updateResult(a),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),d.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},d.fn.ionRangeSlider=function(a){return this.each(function(){d.data(this,"ionRangeSlider")||d.data(this,"ionRangeSlider",new j(this,a,n++))})},function(){for(var a=0,e=["ms","moz","webkit","o"],c=0;c<e.length&&!m.requestAnimationFrame;++c){m.requestAnimationFrame=m[e[c]+"RequestAnimationFrame"],m.cancelAnimationFrame=m[e[c]+"CancelAnimationFrame"]||m[e[c]+"CancelRequestAnimationFrame"]}m.requestAnimationFrame||(m.requestAnimationFrame=function(v,l){var u=(new Date).getTime(),r=Math.max(0,16-(u-a)),h=m.setTimeout(function(){v(u+r)},r);return a=u+r,h}),m.cancelAnimationFrame||(m.cancelAnimationFrame=function(h){clearTimeout(h)})}()});